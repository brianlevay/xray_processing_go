<!DOCTYPE html>
<html>
    <head>
        <meta charset='UTF-8'>
        <title>X-Ray Image Processing for Cores</title>
        <link rel='stylesheet' href='style.css'>
    </head>
    <body>
        <section id='appHeader' class='lvl1'>
            <div class='appTitle'>X-Ray Image Processing for Cores</div>
        </section>
        
        <section class='lvl1'>
            <div class='title1'>File Explorer</div>
            <section class='lvl2'>
                <div class='title2'>Select Tiffs for Processing</div>
                <div class='lvl3'>
                    <input id='selectAll' type='checkbox'></input><label>Select all</label>
                </div>
                <div id='fileList'></div>
            </section>
            <section class='lvl2'>
                <div class='title2'>Data Type for Tiffs</div>
                <div class='lvl3'>
                    <div>
                        <input id='radio14b' type='radio' name='nbits' value='14' checked></input><label>14 bit ('_base')</label>
                        <input id='radio16b' type='radio' name='nbits' value='16'></input><label>16 bit</label>
                    </div>
                </div>
            </section>
        </section>
        
        <section class='lvl1'>
            <div class='title1'>Generate Histogram from Images</div>
            <div><button id='getHistogram' onclick='histogramAPI()'>Get Histogram</button></div>
            <div class='lvl2'>
                <div class='title2'>Histogram Results</div>
                <div>
                    <img id='histogramImg'></img>
                </div>
                <div>
                    <input id='leftBounds' type='range' class='slider' min='0'>
                    <label>Left edge &nbsp</label>
                    <span id='leftBoundsVal'></span>
                </div>
                <div>
                    <input id='center' type='range' class='slider' min='0'>
                    <label>Peak position &nbsp</label>
                    <span id='centerVal'></span>
                </div>
                <div>
                    <input id='rightBounds' type='range' class='slider' min='0'>
                    <label>Right edge &nbsp</label>
                    <span id='rightBoundsVal'></span>
                </div>
            </div>
        </section>
        
        <section class='lvl1'>
            <div class='title1'>Processing Settings</div>
            <section class='lvl2'>
                <div class='title2'>Type of Processing</div>
                <div class='lvl3'>
                    <div>
                        <input id='radioConvert16b' type='radio' name='procMethod' value='convert16b'>
                        <label>Convert to 16 bits</label>
                    </div>
                    <div>
                        <input id='radioMurhot' type='radio' name='procMethod' value='murhot'>
                        <label>Convert to &mu;&rho;t</label>
                    </div>
                    <div>
                        <input id='radioCompensation' type='radio' name='procMethod' value='compensation' checked>
                        <label>Convert to &mu;&rho;t<sub>ref</sub> (thickness compensation)</label>
                    </div>
                </div>
            </section>
            <section class='lvl2'>
                <div class='title2'>Instrument Geometry</div>
                <div class='lvl3'>
                    <div>
                        <input id='srcHeight' type='number' name='srcHeight' min=0.0 step=0.1>
                        <label>Height of source above detector (cm)</label>
                    </div>
                    <div>
                        <input id='coreHeight' type='number' name='coreHeight' min=0.0 step=0.1>
                        <label>Height of core base above detector (cm)</label>
                    </div>
                    <div>
                        <input id='coreDiameter' type='number' name='coreDiameter' min=0.0 step=0.1>
                        <label>Diameter of core (cm)</label>
                    </div>
                    <div>
                        <input id='wholeRound' type='radio' name='coreType' value='WR' checked><label>Whole round</label>
                        <input id='halfRound' type='radio' name='coreType' value='HR'><label>Half round</label>
                    </div>
                </div>
            </section>
            <section class='lvl2'>
                <div class='title2'>Contrast Enhancement</div>
                <div class='lvl3'>
                    <div>
                        <input id='defaultScale' type='radio' name='defaultScale' value='defaultScale'>
                        <label>Use default scale (no clipping or skew correction)</label>
                    </div>
                    <div>
                        <input id='clipScale' type='radio' name='clipScale' value='clipScale'>
                        <label>Clip values outside left and right histogram bounds (specified above by sliders)</label>
                    </div>
                    <div>
                        <input id='skewScale' type='radio' name='skewScale' value='skewScale' checked>
                        <label>Clip values, reduce skew, and enhance contrast around peak</label>
                    </div>
                </div>
            </section>
            <section class='lvl2'>
                <div class='title2'>Image Overlays</div>
                <div class='lvl3'>
                    <div>
                        <input id='roiSize' type='number' name='roiSize' min='0.0', max='15.0', step='0.1'>
                        <label>ROI size (cm) - Usually, this is the distance the core is moved between images</label>
                    </div>
                    <div>
                        <input id='includeScale' type='checkbox' name='includeScale' value='includeScale' checked>
                        <label>Include scale bar for mid-core height</label>
                    </div>
                    <div>
                        <input id='includeROI' type='checkbox' name='includeROI' value='includeROI' checked>
                        <label>Include region of interest bar (used to help with image stitching)</label>
                    </div>
                </div>
            </section>
            <section class='lvl2'>
                <div class='title2'>File Output</div>
                <div class='lvl3'>
                    <div>
                        <input id='folderName' type='text' name='folderName' value='processed'>
                        <label>Name of output folder</label>
                    </div>
                    <div>
                        <input id='fileAppend' type='text' name='fileAppend' value='_processed'>
                        <label>String to append at the end of the file name</label>
                    </div>
                </div>
            </section>
        </section>
        
        <section class='lvl1'>
            <div class='title1'>Process Files</div>
            <div><button id='processFiles' onclick='processAPI()'>Process Files</button></div>
        </section>
        
        <script src='fileExplorer.js'></script>
        <script src='histogram.js'></script>
        <script src='process.js'></script>
    </body>
</html>